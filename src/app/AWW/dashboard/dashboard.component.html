<div class="dashboard-container">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading student data...</p>
  </div>

  <!-- Main Content -->
  <div *ngIf="!loading">
    <!-- Header Section -->
    <div class="dashboard-header">
      <div class="container">
        <div class="header-content">
          <h1 class="heading-heading">
            <span class="heading-highlight">Anganwadi</span> Dashboard
          </h1>
        </div>
      </div>
    </div>

    <!-- Main Dashboard Content -->
    <div class="container">
      <div class="chart-row">
        <!-- Gender Distribution Card -->
        <div class="chart-card gender-card">
          <div class="card-header">
            <div class="card-title-section">
              <h3 class="card-title">Student Gender Distribution</h3>
              <p class="card-subtitle">Total Students: {{ totalStudents }}</p>
              <p class="card-updated">Last updated: Just now</p>
            </div>
            <div class="card-stats">
              <div class="stat-item boys">
                <span class="stat-value">{{ genderDistribution.male }}</span>
                <span class="stat-label">Boys</span>
              </div>
              <div class="stat-item girls">
                <span class="stat-value">{{ genderDistribution.female }}</span>
                <span class="stat-label">Girls</span>
              </div>
            </div>
          </div>
          <div class="chart-container" style="height: 250px;">
            <canvas 
              baseChart
              [data]="genderChartData"
              [options]="genderChartOptions"
              type="doughnut">
            </canvas>
          </div>
        </div>

        <!-- Student Levels Card -->
        <div class="chart-card levels-card" style="flex: 2;">
          <div class="card-header">
            <div class="card-title-section">
              <h3 class="card-title">Student Learning Levels</h3>
              <p class="card-subtitle">Distribution across assessment levels</p>
            </div>
            <div class="levels-summary">
              <div class="summary-grid">
                <div class="summary-item beginner">
                  <span class="summary-value">{{ studentLevels.beginner }}</span>
                  <span class="summary-label">Beginner</span>
                </div>
                <div class="summary-item progressing">
                  <span class="summary-value">{{ studentLevels.progressing }}</span>
                  <span class="summary-label">Progressing</span>
                </div>
                <div class="summary-item advancing">
                  <span class="summary-value">{{ studentLevels.advancing }}</span>
                  <span class="summary-label">Advancing</span>
                </div>
                <div class="summary-item ready">
                  <span class="summary-value">{{ studentLevels.preschoolReady }}</span>
                  <span class="summary-label">Ready</span>
                </div>
              </div>
            </div>
          </div>
          <div class="chart-container levels-chart">
            <canvas 
              baseChart
              [data]="levelChartData"
              [options]="levelChartOptions"
              type="bar">
            </canvas>
          </div>
        </div>
      </div>

      <!-- Additional Info Section -->
      <div class="info-section">
        <div class="info-cards">
          <div class="info-card">
            <div class="info-icon">ðŸ‘¥</div>
            <div class="info-content">
              <h4>Total Enrollment</h4>
              <p>{{ totalStudents }} active students</p>
            </div>
          </div>
          <div class="info-card">
            <div class="info-icon">ðŸ“ˆ</div>
            <div class="info-content">
              <h4>Progress Rate</h4>
              <p>{{ competencyProgress.completed }}/{{ competencyProgress.total }} competencies</p>
            </div>
          </div>
          <div class="info-card">
            <div class="info-icon">ðŸŽ¯</div>
            <div class="info-content">
              <h4>Ready for School</h4>
              <p>{{ studentLevels.preschoolReady }} students</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>